<!DOCTYPE Html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="../css/chap16.css">
        <script src="../script/chap16.js" type="text/javascript"></script>
    </head>
    <body style="background-color: black;">
        <div id="header">
            <a href="../html/eloquentJS.html">Go back to eloquentJS</a>&nbsp; <a href="../html/eloquentJS_chap16_test.html">Go to test page</a>
        </div>

        <button id="closeGame">Close!</button><br/>
        <div id="gamewrapper" style="padding: 10px; background-color: white"></div>


        <script>
            window.addEventListener("load", event => {

                let someplan = `
                .|............v...................|@.........
                .|..........oo...............................
                .|...........................................
                .|..........########################.........
                +++++++++...++++++++++#=...#.................
                `;
                
                let newlevel = new Level(someplan);
                let newDom = new DomDisplay(document.getElementById("gamewrapper"), newlevel);
                
                document.getElementById("closeGame").addEventListener("click", () => newDom.clear());

                console.log(newDom);
                newDom.syncState(State.start(newlevel));
                console.log(newDom);
                console.log(newlevel);
            });
        </script>
    </body>
</html>